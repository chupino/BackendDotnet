(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120,553],{29036:function(e,t,a){var r=a(85246),n=a(62034),l=a(36060),o=a(93746),i=a(56974),u=l(function(e,t){var a=i(t);return o(a)&&(a=void 0),o(e)?r(e,n(t,1,o,!0),void 0,a):[]});e.exports=u},19335:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...slug]]",function(){return a(59081)}])},59081:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return ej},default:function(){return eC}});var r=a(52322),n=a(2784),l=a(3255),o=a(11478);let i=e=>{let{flagPoles:t,allowAdvertising:a,analytics:n,collection:l,destination:i,pageKey:u,pillar:s,section:c,slug:d,subtype:v,topics:g,type:m,urn:h}=e,f={gptRequested:!0,pageAds:!0,playerAds:!0,xPlatform:!0,..."boolean"==typeof a?{allowAdvertising:a}:{},...t.ops?{opsFlags:t.ops}:{},...t.ngas?{ngasFlags:t.ngas}:{},pageData:{analytics:n,collection:l,destination:i,pageKey:u,pillar:s,section:c,slug:d,subtype:v,topics:g,type:m,...h?{urn:h}:{}}},Z="window.dotcom = window.dotcom || { cmd: [] }; window.dotcomConfig = ".concat(JSON.stringify(f),";");return(0,r.jsx)(o.Z,{id:"inline-dotcom-config",strategy:"beforeInteractive",innerHTML:Z})};var u=(0,n.memo)(i),s=a(2303),c=a(18892),d=a(68329),v=a(45074),g=a(33558),m=a(77531),h=a(23948),f=a(24621),Z=a(80537),p=a.n(Z),w=a(98579),S=a(75184),b=a(79760);let x="bookmark",k={credentials:"include",isLegacyApiEnabled:!0};async function y(e,t,a){let[,r,n]=e,l={...p()(n)?{size:n.toString()}:{},...p()(r)?{page:r.toString()}:{}};t&&a&&await (0,S.j)(a);let{data:{data:o,...i}}=await (0,b.Z)(x,{cache:"no-cache",params:l,method:"GET",...k});return{data:o.map(w.V),...i}}async function P(e){let[,t,a,r,n]=e;if(a){r&&n&&await (0,S.j)(n);let{data:e}=await (0,b.Z)(x,{params:{id:t},method:"GET",...k});return e}}async function _(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[r,n]=t;return await (0,b.Z)(x,{params:{id:n},method:"save"===r?"POST":"DELETE",...k}),{saved:"save"===r,id:n}}let j=()=>{let{query:e}=(0,d.Z)(),{slug:t}=e,a=(0,f.rv)(t),{addError:n}=(0,v.Z)(),{subtype:o}=(0,g.Z)(),{isAuthenticated:i,isAuthEnabled:u,isBookmarkingEnabled:Z,isAccessTokenExpired:p,accessTokenRefreshUrl:w}=(0,m.Z)(),{data:S}=(0,l.ZP)(a),{id:b}=S,{mutate:x,data:k,isLoading:y}=(0,s.Z)(["bookmark",b,u&&i&&Z,p,w],P),j=e=>()=>x(_(e,b),{optimisticData:{saved:"save"===e,id:b},populateCache:!0,revalidate:!1,rollbackOnError:!0}).catch(()=>{n("We could not ".concat("save"===e?"save":"remove"," this at the moment, try again or come back later."))}),C={data:{...k,isLoading:y},onSave:j("save"),onRemove:j("remove")};return(0,r.jsx)(h.Z,{value:C,children:(0,r.jsx)(c.Z,{slug:a,data:S,subtype:o})})};var C=a(5632),N=a(46306),T=a(26657),E=a(1280);let z=()=>{let{query:e}=(0,C.useRouter)(),{slug:t}=e,a=(0,f.rv)(t),{subtype:o}=(0,g.Z)(),{data:i}=(0,l.ZP)(a),u=(0,n.useMemo)(()=>{switch(o){case E.Gu.Episode:return N.Z;case E.Gu.Brand:case E.Gu.Series:return T.Z}},[o]);return(0,r.jsx)(u,{...i})};var O=a(19832),A=a.n(O),I=a(44729),L=a(43100);let J=e=>(0,I.qC)(e?e(0,null):null)[0],q=Promise.resolve(),R=e=>(t,a,r)=>{let l;let o=(0,n.useRef)(!1),{cache:i,initialSize:u=1,revalidateAll:s=!1,persistSize:c=!1,revalidateFirstPage:d=!0,revalidateOnMount:v=!1,parallel:g=!1}=r;try{(l=J(t))&&(l="$inf$"+l)}catch(e){}let[m,h,f]=(0,I.JN)(i,l),Z=(0,n.useCallback)(()=>{let e=(0,I.o8)(m()._l)?u:m()._l;return e},[i,l,u]);(0,L.useSyncExternalStore)((0,n.useCallback)(e=>l?f(l,()=>{e()}):()=>{},[i,l]),Z,Z);let p=(0,n.useCallback)(()=>{let e=m()._l;return(0,I.o8)(e)?u:e},[l,u]),w=(0,n.useRef)(p());(0,I.LI)(()=>{if(!o.current){o.current=!0;return}l&&h({_l:c?w.current:p()})},[l,i]);let S=v&&!o.current,b=e(l,async e=>{let n=m()._i,l=[],o=p(),[u]=(0,I.JN)(i,e),c=u().data,v=[],f=null;for(let e=0;e<o;++e){let[o,u]=(0,I.qC)(t(e,g?null:f));if(!o)break;let[m,h]=(0,I.JN)(i,o),Z=m().data,p=s||n||(0,I.o8)(Z)||d&&!e&&!(0,I.o8)(c)||S||c&&!(0,I.o8)(c[e])&&!r.compare(c[e],Z);if(a&&p){let t=async()=>{h({data:Z=await a(u),_k:u}),l[e]=Z};g?v.push(t):await t()}else l[e]=Z;g||(f=Z)}return g&&await Promise.all(v.map(e=>e())),h({_i:I.i_}),l},r),x=(0,n.useCallback)(function(e,t){let a="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==a.revalidate;return l?(r&&((0,I.o8)(e)?h({_i:!0}):h({_i:!1})),arguments.length?b.mutate(e,{...a,revalidate:r}):b.mutate()):q},[l,i]),k=(0,n.useCallback)(e=>{let a;if(!l)return q;let[,r]=(0,I.JN)(i,l);if((0,I.mf)(e)?a=e(p()):"number"==typeof e&&(a=e),"number"!=typeof a)return q;r({_l:a}),w.current=a;let n=[],[o]=(0,I.JN)(i,l),u=null;for(let e=0;e<a;++e){let[a]=(0,I.qC)(t(e,u)),[r]=(0,I.JN)(i,a),l=a?r().data:I.i_;if((0,I.o8)(l))return x(o().data);n.push(l),u=l}return x(n)},[l,i,x,p]);return{size:p(),setSize:k,mutate:x,get data(){return b.data},get error(){return b.error},get isValidating(){return b.isValidating},get isLoading(){return b.isLoading}}},F=(0,I.xD)(l.ZP,R);var G=a(38787),D=a(1824),M=a(19032),B=a(59190),V=a(60496),$=a(34151);let H={revalidateFirstPage:!1,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},W={populateCache:!0,revalidate:!1,rollbackOnError:!0};var X=a(29036),U=a.n(X);let Y=(e,t)=>{if(t&&!t.data.length)return null;let a=A()(null==t?void 0:t.data.length,0);return["bookmarks",0,a+9]},K=(e,t)=>e.reduce((e,a)=>{let r=U()(A()(null==a?void 0:a.data,[]),e,(e,t)=>e.id===t.id);return[...e,...r].filter(e=>{let{id:a}=e;return!t.includes(a)})},[]),Q=e=>{let t=e.reduce((e,t)=>Math.max(e,A()(null==t?void 0:t.data.length,0)),0),a=e.reduce((e,t)=>Math.max(e,A()(null==t?void 0:t.total,0)),0);return t<a},ee=()=>{let e=(0,V.Z)("new-navigation"),{addError:t}=(0,v.Z)(),{isAuthenticated:a,isAccessTokenExpired:l,accessTokenRefreshUrl:o,isBookmarkingEnabled:i}=(0,m.Z)(),{query:u}=(0,d.Z)(),{slug:s}=u,c=(0,f.rv)(s),[g,h]=(0,n.useState)([]),[Z,p]=(0,n.useState)(!1),w=(0,n.useCallback)(async e=>{try{return a&&i?await y(e,l,o):null}catch(e){p(!0)}},[i,a]),{data:S=[],isLoading:b,setSize:x,mutate:k}=F(Y,w,H),P=K(S,g),j=Q(S),C=()=>x(e=>e+1),N=e=>k(async a=>{let r=a.map(t=>{let{data:a,total:r,...n}=t;return{...n,data:a.filter(t=>{let{id:a}=t;return a!==e}),total:r-1}});try{await _("remove",e),h(t=>[...t,e]);let t=r.reduce((e,t)=>e+A()(null==t?void 0:t.data.length,0),0);return 1===t&&j&&await C(),r}catch(e){return t("We could not remove this at the moment, try again or come back later."),a}},W),T={title:"Saved Items",mainNavigation:[],isInverseTitle:!1};return Z||!i?(0,r.jsx)(G.Z,{}):(0,r.jsxs)($.Z,{value:{content:P,hasMore:j,isLoading:b,onLoadMore:C,onRemoveItem:N},children:[e?(0,r.jsx)(D.Z,{isPreCurated:!1,slug:s,isBookmarksPage:!0,...T}):(0,r.jsx)(M.Z,{slugArray:c,...T}),(0,r.jsx)(B.Z,{})]})},et=()=>(0,r.jsx)(G.Z,{});var ea=a(66052),er=a(81350),en=a(69320),el=a(25237),eo=a.n(el);let ei=async e=>{await (0,b.Z)("form",{method:"POST",body:JSON.stringify(e),isLegacyApiEnabled:!0})},eu=eo()(()=>Promise.all([a.e(351),a.e(252)]).then(a.bind(a,16252)).then(e=>{let{FeedbackForm:t}=e;return t}),{loadableGenerated:{webpack:()=>[16252]}}),es={"contact-form":[eu,ei]},ec=()=>{let{query:e}=(0,d.Z)(),{slug:t}=e,a=(0,f.rv)(t),{data:n}=(0,l.ZP)(a),{data:o=[]}=(0,l.ZP)("mainNavigation"),{worldNewsData:i,worldNewsServiceId:u,worldNewsTvPath:s}=(0,er.Z)(),{title:c,sections:v,hideBannerAdvert:g,isPreCurated:m}=n;return(0,r.jsx)(en.Z,{value:es,children:(0,r.jsx)(ea.Z,{isPreCurated:m,slug:a,title:c,sections:v,mainNavigation:o,worldNewsTvPath:s,worldNewsData:i,worldNewsServiceId:u,hideBannerAdvert:g})})};var ed=a(5989),ev=a(16415);let eg=()=>{let{query:{slug:e}}=(0,d.Z)(),t=(0,f.rv)(e),{data:a}=(0,l.ZP)(t),{searchText:n,setSearchText:o,onSearchClick:i}=(0,ev.Z)();return(0,r.jsx)(ed.Z,{recentStories:a,onSearch:i,searchText:n,onSearchTextChange:o})};var em=a(54073),eh=a.n(em),ef=a(83181),eZ=a(55543),ep=function(e){let t=new URLSearchParams(e),a=t.toString().length>0,r=a?"?".concat(t.toString()):"";return"".concat(eZ.h).concat(r)};let ew=()=>{var e;let[t,a]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),{query:i,push:u}=(0,d.Z)(),{page:c="0",q:v}=i,{data:g={},isLoading:m}=(0,s.Z)(ep({terms:null===(e=l||v)||void 0===e?void 0:e.toString(),page:null==c?void 0:c.toString()})),{results:h,pageSize:f,total:Z}=g,p=eh()(async e=>await u(ep({q:e})),500),w=e=>u(ep({q:null==v?void 0:v.toString(),page:(e-1).toString()}),void 0,{scroll:!0});return(0,n.useEffect)(()=>{a(v),o(v)},[v]),(0,r.jsx)(ef.Z,{results:h,currentPage:Number(c)+1,itemsTotalCount:Z,itemsPerPage:f,isLoading:m,searchText:t||"",submittedSearchText:l,onPageChange:w,onSearchTextChange:a,onSearch:p})},eS={[E.zc.Article]:j,[E.zc.Audio]:z,[E.zc.BookmarksPage]:ee,[E.zc.FiveHundredPage]:et,[E.zc.IndexPage]:ec,[E.zc.NotFoundPage]:eg,[E.zc.SearchPage]:ew,[E.zc.TopicPage]:ec,[E.zc.Video]:j},eb=(0,n.createContext)(eS),{Provider:ex}=eb,ek=()=>(0,n.useContext)(eb);var ey=a(71474),eP=a(7730);let e_=e=>{let{analytics:t,metadata:{promoHeadline:a="",options:{allowAdvertising:n}={}}={},pageKey:o,page:i,type:s,slug:c,subtype:d,isUkHeader:v,browser:g,os:m,flagPoles:h,isAuthenticated:f,isAccessTokenExpired:Z,accessTokenRefreshUrl:p}=e,w=ek(),S=(0,V.Z)("authentication"),b=(0,V.Z)("bookmarking"),x=(0,V.Z)("comments"),{fallback:k}=(0,l.kY)(),{authInfo:y}=k,{signOutUrl:P,statusUrl:_,signInUrl:j,registerUrl:C}=y,N=w[s],[T]=Object.values(i),{destination:z,topics:O,collection:A,section:I,pillar:L,isSponsored:J}=T,q={type:s||E.zc.Article,subtype:d,pageTitle:a,isUkHeader:v,isSponsored:!!J,os:m,browser:g},R=(null==t?void 0:t.contentId)?t.contentId:null;return N?(0,r.jsxs)(l.J$,{value:{fallback:i},children:[(0,r.jsx)(u,{allowAdvertising:n,analytics:t,collection:A,destination:z,flagPoles:h,pageKey:o,pillar:L,section:I,slug:c,subtype:d,topics:O,type:s,urn:R}),(0,r.jsx)(ey.Z,{value:{isAuthenticated:f,isAuthEnabled:S,isBookmarkingEnabled:b,isCommentsEnabled:x,signInUrl:j,signOutUrl:P,registerUrl:C,statusUrl:_,isAccessTokenExpired:Z,accessTokenRefreshUrl:p},children:(0,r.jsx)(eP.Z,{value:q,children:(0,r.jsx)(N,{})})})]}):null};var ej=!0,eC=(0,n.memo)(e_)}},function(e){e.O(0,[348,635,774,888,179],function(){return e(e.s=19335)}),_N_E=e.O()}]);